{% extends 'includes/layout.html' %}

{% block body %}

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<main class="container">
  <div class="bg-light p-5 rounded mt-5">
    <p class="lead">
      {% for para in question %}
          <p>{{para}}</p>
      {% endfor %}
    </p>
  </div>

<form class="" action="{{ url_for('submit_answer') }}" method="post">
  <div class="mb-3">
    <textarea name="answer" rows="8" cols="80">{{ answer }}</textarea>
  </div>
  <button type="submit" id="submit" class="btn btn-primary btn-lg {{submit_class}}">Submit Answer</button>
</form>


<div id="all-the-feedback" class="{{answers_class}}"
  <br>
  <h3>Feedback</h3>
  <span>

    {% for para in feedback %}
        <p>{{para}}</p>
    {% endfor %}

    <br>
    <div>
      <a id="show-perfect" class="show-perfect">Show Perfect Answer</a>
      <br>
    </div>
  </span>



  <div id="perfect-answer" class="hidden">
    <h3>Perfect Answer</h3>
    <p>
      {% for para in perfect_answer %}
          <p>{{para}}</p>
      {% endfor %}

  </div>

  <br>
  <br>

  <button id="same-again" class="btn btn-primary btn-sm">Give me another question like this!</button>
  <button id="new-topic" class="btn btn-primary btn-sm">Give me a {{ subject }} {{ level }}  question on a different topic</button>
  <button id="take-me-home" class="btn btn-primary btn-sm">Let me choose a different subject/level/topic </button>

  <br>
  <br>
</div>

</main>

<script>
  var showPerfectButton = document.getElementById('show-perfect');
  var perfectAnswerDiv = document.getElementById('perfect-answer');
  var sameAgain = document.getElementById('same-again');
  var newTopic = document.getElementById('new-topic');
  var takeMeHome = document.getElementById('take-me-home');

  console.log("Hello")
  showPerfectButton.addEventListener('click', function() {
    perfectAnswerDiv.classList.remove('hidden');
    perfectAnswerDiv.classList.add('show');
    showPerfectButton.classList.add('hidden');
  });

  sameAgain.addEventListener('click', function() {
    // write code here that would call a route on the backend called same again
  });


</script>

{% endblock %}
